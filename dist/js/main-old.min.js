const canvas=document.getElementById('matrix-canvas');const ctx=canvas.getContext('2d');function setCanvasDimensions(){canvas.width=window.innerWidth;canvas.height=window.innerHeight}
window.addEventListener('load',()=>{setCanvasDimensions();initMatrix()});window.addEventListener('resize',()=>{setCanvasDimensions();initMatrix()});const persian='ابپتثجچحخدذرزژسشصضطظعغفقکگلمنوهی۱۲۳۴۵۶۷۸۹۰';const english='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';const symbols='!@#$%^&*()_+-=[]{}|;:,.<>/?\\\'\"';const characters=(persian+english+symbols);const fontSize=16;let columns=[];let drops=[];function initMatrix(){const columnsCount=Math.floor(canvas.width/fontSize);columns=new Array(columnsCount).fill(0);drops=columns.map(()=>Math.random()*-50)}
const logoImage=new Image();logoImage.src='images/davoodya.png';function drawMatrix(){ctx.fillStyle='rgba(0, 0, 0, 0.05)';ctx.fillRect(0,0,canvas.width,canvas.height);const logoSize=500;const logoX=220;const logoY=canvas.height/2-logoSize/2;ctx.globalAlpha=1.0;ctx.imageSmoothingEnabled=!0;ctx.imageSmoothingQuality='high';ctx.drawImage(logoImage,logoX,logoY,logoSize,logoSize)}
setInterval(drawMatrix,45);const typingElements=document.querySelectorAll('.typing-effect');function advancedTypingEffect(){const elements=document.querySelectorAll('.typing-effect');elements.forEach(element=>{let texts=element.getAttribute('data-text')||'';let textArray;try{textArray=JSON.parse(texts);if(!Array.isArray(textArray))textArray=[texts]}catch(e){textArray=[texts]}
const delay=parseInt(element.getAttribute('data-delay')||'1000',10);const speed=parseInt(element.getAttribute('data-speed')||'100',10);const loop=element.hasAttribute('data-loop');let currentTextIndex=0;let charIndex=0;let isDeleting=!1;function type(){const fullText=textArray[currentTextIndex];const current=fullText.substring(0,charIndex);element.textContent=current;if(!isDeleting&&charIndex<fullText.length){charIndex++;setTimeout(type,speed)}else if(isDeleting&&charIndex>0){charIndex--;setTimeout(type,speed/2)}else{if(!isDeleting&&charIndex===fullText.length){if(loop){setTimeout(()=>{isDeleting=!0;type()},delay)}}else if(isDeleting&&charIndex===0){isDeleting=!1;currentTextIndex=(currentTextIndex+1)%textArray.length;setTimeout(type,delay)}}}
setTimeout(type,delay)})}
const animatedElements=document.querySelectorAll('.fade-in, .slide-up, .slide-right, .slide-left');function checkScroll(){const triggerBottom=window.innerHeight*0.8;animatedElements.forEach(element=>{const elementTop=element.getBoundingClientRect().top;if(elementTop<triggerBottom){element.style.opacity='1';element.style.transform='translate(0)'}})}
const hamburger=document.querySelector('.hamburger');const navLinks=document.querySelector('.nav-links');if(hamburger){hamburger.addEventListener('click',()=>{navLinks.classList.toggle('active')})}
window.addEventListener('load',()=>{const preloader=document.querySelector('.preloader');if(preloader){setTimeout(()=>{preloader.style.opacity='0';setTimeout(()=>{preloader.style.display='none';advancedTypingEffect();checkScroll()},600)},1500)}});let scrollTicking=!1;window.addEventListener('scroll',()=>{if(!scrollTicking){requestAnimationFrame(()=>{checkScroll();scrollTicking=!1});scrollTicking=!0}});document.addEventListener('DOMContentLoaded',()=>{if(!document.querySelector('.preloader')){typeEffect();checkScroll()}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault();const targetId=this.getAttribute('href');if(targetId==='#')return;const targetElement=document.querySelector(targetId);if(targetElement){targetElement.scrollIntoView({behavior:'smooth'});if(navLinks.classList.contains('active')){navLinks.classList.remove('active')}}})})});document.addEventListener('DOMContentLoaded',function(){const particles=document.getElementById('particles');const particleCount=30;for(let i=0;i<particleCount;i++){const particle=document.createElement('div');particle.classList.add('particle');const size=Math.random()*5+1;particle.style.width=`${size}px`;particle.style.height=`${size}px`;particle.style.left=`${Math.random() * 100}%`;particle.style.top=`${Math.random() * 100}%`;particle.style.animationDuration=`${Math.random() * 15 + 10}s`;particle.style.animationDelay=`${Math.random() * 5}s`;particles.appendChild(particle)}});document.addEventListener('DOMContentLoaded',function(){const skills=document.querySelectorAll('.skill');let currentSkill=0;function rotateSkills(){skills[currentSkill].classList.remove('active');currentSkill=(currentSkill+1)%skills.length;skills[currentSkill].classList.add('active');skills[currentSkill].classList.remove('glitch');requestAnimationFrame(()=>{skills[currentSkill].classList.add('glitch')});setTimeout(rotateSkills,2000)}
setTimeout(rotateSkills,2000)});document.addEventListener('DOMContentLoaded',function(){const modal=document.getElementById('certificate-modal');const btn=document.getElementById('show-certificate');const closeBtn=document.querySelector('.close-modal');btn.addEventListener('click',function(e){e.preventDefault();modal.classList.add('show');document.body.style.overflow='hidden'});closeBtn.addEventListener('click',function(){modal.classList.add('closing');setTimeout(()=>{modal.classList.remove('show','closing');document.body.style.overflow='auto'},400)});window.addEventListener('click',function(e){if(e.target===modal){modal.classList.add('closing');setTimeout(()=>{modal.classList.remove('show','closing');document.body.style.overflow='auto'},400)}})});document.addEventListener('DOMContentLoaded',function(){const image=document.getElementById('zoomable-certificate');image.addEventListener('click',function(e){e.stopPropagation();image.classList.toggle('zoomed')});const modal=document.getElementById('certificate-modal');const closeBtn=document.querySelector('.close-modal');closeBtn.addEventListener('click',()=>{image.classList.remove('zoomed')});modal.addEventListener('click',(e)=>{if(e.target===modal){image.classList.remove('zoomed')}})});document.addEventListener("DOMContentLoaded",function(){const form=document.getElementById("contactForm");form.addEventListener("submit",function(event){event.preventDefault();const payload={name:document.getElementById("name").value,email:document.getElementById("email").value,phone:document.getElementById("phone").value,subject:document.getElementById("subject").value,message:document.getElementById("message").value,};fetch("api/save_message.php",{method:"POST",headers:{"Content-Type":"application/json",},body:JSON.stringify(payload),}).then(response=>response.json()).then(data=>{if(data.success){alert("✅ پیام با موفقیت در سرور ما ذخیره شد.");form.reset()}else{alert("❌ ذخیره پیام در سرور ما ناموفق بود.")}}).catch(error=>{alert("❌ خطا در در سرور ما ارسال درخواست.");console.error(error)})})});document.addEventListener("DOMContentLoaded",function(){const form=document.getElementById("contactForm");if(!form){console.error("فرم تماس پیدا نشد!");return}
form.addEventListener("submit",function(event){event.preventDefault();const formData=new FormData(form);const data={};formData.forEach((value,key)=>{data[key]=value});emailjs.send("service_59st306","template_m0f8j8j",data).then(function(response){alert("✅ پیام شما با موفقیت ارسال شد!");form.reset()}).catch(function(error){alert("❌ ارسال پیام به ایمیل با خطا مواجه شد. لطفاً دوباره تلاش کنید.");console.error("EmailJS Error:",error)})})});tailwind.config={theme:{extend:{},},corePlugins:{preflight:!1,},plugins:[],}