function initMatrixAnimation(){const canvas=document.getElementById('matrix-canvas2');if(!canvas)return;const ctx=canvas.getContext('2d');function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight}
resizeCanvas();const persian='ابپتثجچحخدذرزژسشصضطظعغفقکگلمنوهی۰۱۲۳۴۵۶۷۸۹';const english='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';const chars=persian.split('')+english.split('');const fontSize=16;const columns=Math.floor(canvas.width/fontSize);const drops=Array(columns).fill(1);function draw(){ctx.fillStyle='rgba(0, 0, 0, 0.05)';ctx.fillRect(0,0,canvas.width,canvas.height);ctx.fillStyle='#00ff41';ctx.font=fontSize+'px Vazir';for(let i=0;i<drops.length;i++){const text=chars[Math.floor(Math.random()*chars.length)];ctx.fillText(text,i*fontSize,drops[i]*fontSize);if(drops[i]*fontSize>canvas.height&&Math.random()>0.975){drops[i]=0}
drops[i]++}}
setInterval(draw,33);window.addEventListener('resize',()=>{resizeCanvas();for(let i=0;i<columns;i++){drops[i]=1}})}
function initCategoryDropdowns(){const categoryItems=document.querySelectorAll('.category-item');categoryItems.forEach(item=>{const header=item.querySelector('.category-item-header');const dropdown=item.querySelector('.category-dropdown');header.addEventListener('click',function(){const isActive=item.classList.contains('active');categoryItems.forEach(otherItem=>{otherItem.classList.remove('active')});if(!isActive){item.classList.add('active')}})})}
function initPreloader(){const preloader=document.querySelector('.preloader');window.addEventListener('load',function(){setTimeout(function(){preloader.style.opacity='0';setTimeout(function(){preloader.style.display='none'},600)},500)})}
document.addEventListener('DOMContentLoaded',function(){const matrixRain=document.getElementById('matrix-rain');const columns=Math.floor(window.innerWidth/20);const chars='ابپتثجچحخدذرزژسشصضطظعغفقکگلمنوهی۰۱۲۳۴۵۶۷۸۹ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';for(let i=0;i<columns;i++){const column=document.createElement('div');column.className='matrix-column';column.style.setProperty('--speed',5+Math.random()*10);column.style.setProperty('--delay',Math.random()*5);column.style.setProperty('--column-delay',i*0.1);const charsCount=20+Math.floor(Math.random()*20);for(let j=0;j<charsCount;j++){const char=document.createElement('span');char.className='matrix-character';char.textContent=chars[Math.floor(Math.random()*chars.length)];char.style.setProperty('--char-index',j);column.appendChild(char)}
matrixRain.appendChild(column)}})